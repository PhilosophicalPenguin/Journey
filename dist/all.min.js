<<<<<<< HEAD
<<<<<<< HEAD
var ProfileModel=Backbone.Model.extend({url:"api/profiles/getProfile",initialize:function(e){this.fetch({data:$.param({id:e})})},parse:function(e){for(var i in e)this.set(i,e[i]);this.trigger("RecievedData")}});window.ThumbnailModel=Backbone.Model.extend({defaults:{name:"",id:0,picURL:"",headline:""}});var ThumbnailsCollection=Backbone.Collection.extend({model:ThumbnailModel,initialize:function(){}});window.PositionModel=Backbone.Model.extend({url:"/api/queryPositions/getStats",goToJourney:function(e){this.fetch({data:$.param({name:e})})},createNewThumbnails:function(e){this.trigger("createThumbnails",e)},parse:function(e){return this.set("degrees",e.degrees),this.set("fieldsOfStudy",e.fieldsOfStudy),this.set("degreesAndFields",e.degreesAndFields),this.set("info",e),clientRouter.viewJourney(this),e}});var PositionsCollection=Backbone.Collection.extend({model:PositionModel,initialize:function(){}});window.DiscoverPathsModel=Backbone.Model.extend({url:"/api/queryPositions/getStats",defaults:{position_name:"",position_image:""},initialize:function(){},goToJourney:function(e){this.fetch({data:$.param({name:e})})},parse:function(e){return this.set("info",e),clientRouter.viewJourney(this),e}}),window.AppModel=Backbone.Model.extend({url:"/api/queryPositions/getPositions",parse:function(e){return this.set("data",e),e},initialize:function(e){var i=new DiscoverPathsModel({position_name:"Entertainment Lawyer",position_image:"../assets/entertainment-lawyer.jpg"}),t=new DiscoverPathsModel({position_name:"Product Manager",position_image:"../assets/product-manager.jpg"}),n=new DiscoverPathsModel({position_name:"Data Scientist",position_image:"../assets/data-scientist.jpg"});this.set("discoverPathsCollection",new Backbone.Collection([i,t,n],{model:DiscoverPathsModel}));this.fetch().then(this.positionsReceived.bind(this)),this.set("availablePositions",[])},positionsReceived:function(){this.set("positionsCollection",new PositionsCollection(this.get("data"))),this.trigger("positionsReceived")}}),window.AutocompleteView=Backbone.View.extend({model:AppModel,el:"#autocomplete",tagName:"input",initialize:function(){this.$el;this.$el.autocomplete({source:this.model.get("availablePositions")}),this.listenTo(this.model,"positionsReceived",function(){for(var e in this.model.attributes)null!==this.model.attributes[e].position_name&&void 0!==this.model.attributes[e].position_name&&this.model.get("availablePositions").push(this.model.attributes[e].position_name);this.$el.autocomplete({source:this.model.get("availablePositions")})}),this.render()},events:{keydown:"keyDownClickHandler",autocompleteselect:function(e,i){this.journeySelected=i.item.value}},keyDownClickHandler:function(e){var i=13===e.which;if(i){e.preventDefault();var t=this.$el.val()||this.journeySelected,n=this.model.get("positionsCollection").where({position_name:t});n[0].goToJourney(t),this.$el.val("")}},render:function(){return this.el}});var NavBarView=Backbone.View.extend({el:"#nav-bar-div-container",initialize:function(){this.render()},render:function(){this.$el.children().detach(),this.$el.append('<header class="navbar navbar-fixed-top" role="navigation"><div class="container"><div class="navbar-header"><a href="/"><h1>Journey</h1></a></div><form class="navbar-form"><input class="header-search" id="autocomplete" placeholder="What position are you considering?"></form></div></header>')}});window.ThumbnailView=Backbone.View.extend({tagName:"li",model:ThumbnailModel,className:"profileThumb",initialize:function(){this.render()},events:{click:"sendToProfile"},render:function(){var e=this.model.get("name"),i=(this.model.get("id"),this.model.get("picURL")),t=this.model.get("headline");return this.$el.append('<img src="'+i+'"><div class="profileInfo"><h1>'+e+"</h1><h2>"+t+"</h2></div>")},sendToProfile:function(){clientRouter.navigate("profile/"+this.model.get("id"),!0)}}),window.ThumbnailsCollectionView=Backbone.View.extend({tagName:"ul",className:"profiles",model:ThumbnailsCollection,initialize:function(){this.render()},render:function(){return $(".profilesColumn").children().detach(),this.$el.append(this.collection.map(function(e){var i=new ThumbnailView({model:e});return i.el}))}});var TimelineItemModel=Backbone.Model.extend({initialize:function(e){this.set("type",e.type),this.set("dates",e.dates),this.set("text",e.text)},render:function(){}}),TimelineItemsCollection=Backbone.Collection.extend({model:TimelineItemModel,initialize:function(){}});window.DiscoverPathsView=Backbone.View.extend({tagName:"div",className:"col-md-4",template:_.template("<h3 class=onePath><%=position_name%></h3>"),initialize:function(){this.render()},events:{click:"journeyClickHandler"},journeyClickHandler:function(e){var i=$(e.target).text()||$(e.target).attr("alt"),t=this.collection.where({position_name:i});t[0].goToJourney(i)},render:function(){var e=this;return this.collection.each(function(i){e.$el.append(e.template(i.attributes))})}}),window.PositionsCollectionView=Backbone.View.extend({tagName:"ul",className:"positionsList",initialize:function(){this.render()},render:function(){this.$el.children().detach(),this.$el.append(this.collection.map(function(e){return new PositionView({model:e}).render()}))}}),window.PositionView=Backbone.View.extend({tagName:"li",className:"positionView",template:_.template("<%= position_name %>"),intialize:function(){this.render()},events:{click:"journeyClickHandler"},render:function(){return this.$el.html(this.template(this.model.attributes))},journeyClickHandler:function(e){var i=this.model.get("position_name");this.model.goToJourney(i)}}),window.AppView=Backbone.View.extend({initialize:function(e){this.discoverPathsView=new DiscoverPathsView({collection:this.model.get("discoverPathsCollection")}),this.autocompleteView=new AutocompleteView({model:this.model}),this.render()},render:function(){return this.$el.append(this.discoverPathsView.$el)}}),window.PositionsStatsChartView=Backbone.View.extend({model:PositionModel,initialize:function(){this.render()},render:function(){var e=[],i=[],t=[];for(var n in this.model.get("info").positions)"Software Engineer"===n&&(this.model.get("info").positions.total-=this.model.get("info").positions[n].length);for(var o in this.model.get("info").positions)if("total"!==o&&"Software Engineer"!=o){e.push([o,this.model.get("info").positions[o].length/this.model.get("info").positions.total*100])}e.sort(function(e,i){return e[1]<i[1]});for(var s=e.splice(0,10),l=0;l<s.length;++l)i.push(s[l][0]),t.push(s[l][1]);var a=this,d=null,r={chart:{renderTo:this.$el,type:"bar",marginLeft:150,style:{fontFamily:"Helvetica, sans-serif"},options3d:{enabled:!1,alpha:15,beta:15,depth:50,viewDistance:25}},tooltip:{pointFormat:"{point.y:.2f}%"},xAxis:{categories:i,labels:{style:{fontSize:"14px"}}},yAxis:{min:0,lineWidth:0,minorGridLineWidth:0,gridLineWidth:0,lineColor:"transparent",title:{text:"Percentage"}},title:{text:null},plotOptions:{dataLabels:{enabled:!0},series:{groupPadding:.1,cursor:"pointer",point:{events:{click:function(e){a.model.set("positionFilter",this.category),a.model.createNewThumbnails(a.model.get("info").positions[this.category].slice(0,10)),d&&d.update({color:"#7cb5ec"},!0,!1),d=this,this.update({color:"#fe5800"})}}}}},series:[{showInLegend:!1,data:t}],credits:{enabled:!1}};this.$el.highcharts(r)}});var ExperienceView=Backbone.View.extend({el:"#experienceDiv",model:PositionModel,className:"ExperienceView",initialize:function(){this.render()},render:function(){this.$el.append("<h3>Experience</h3>"),this.$el.append('<div id="experienceStatsDiv" class="chartLarge"></div>');new PositionsStatsChartView({el:"#experienceStatsDiv",model:this.model})}});window.EducationChartView=Backbone.View.extend({initialize:function(){this.render()},render:function(){var e=[];for(var i in this.model.get("degreesAndFields"))if("total"!==i){var t=i.replace("_"," in ");"_"===i?e.push(["unlisted",this.model.get("degreesAndFields")[i].length]):("Other_"===i&&(t="Other"),e.push([t,this.model.get("degreesAndFields")[i].length]))}e.sort(function(e,i){return e[1]<i[1]}),e=e.splice(0,10);var n=this,o={chart:{marginLeft:50,type:"pie",options3d:{enabled:!1,alpha:45},style:{fontFamily:"Helvetica, sans-serif"},plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1},tooltip:{pointFormat:"{point.percentage:.2f}%"},title:{text:null},plotOptions:{pie:{size:"75%",innerSize:160,depth:45,allowPointSelect:!0,cursor:"pointer",point:{events:{click:function(e){console.log("this from edu",this),n.model.set("positionFilter",this.name),n.model.createNewThumbnails(n.model.get("degreesAndFields")[this.name.replace(" in ","_")].slice(0,10))}}},dataLabels:{enabled:!0,format:"{point.name}: {point.percentage:.1f}%",color:"#606060",style:{lineHeight:"18px",fontSize:"14px",fontWeight:"normal"}}},series:{cursor:"pointer"}},series:[{name:"Percentage",data:e}],credits:{enabled:!1}};this.$el.highcharts(o)}});var EducationView=Backbone.View.extend({el:"#educationDiv",model:PositionModel,className:"EducationView",initialize:function(){this.render()},render:function(){this.$el.append("<h3>Education</h3>"),this.$el.append('<div id="educationStatsDiv" class="chart"></div>');new EducationChartView({el:"#educationStatsDiv",model:this.model})}});window.SkillsStatsChartView=Backbone.View.extend({initialize:function(){this.render()},render:function(){function e(e){for(var i,t,n=e.length;0!==n;)t=Math.floor(Math.random()*n),n-=1,i=e[n],e[n]=e[t],e[t]=i;return e}var i=[],t=[],n=[];for(var o in this.model.get("info").skills)"total"!==o&&i.push([o,this.model.get("info").skills[o].length]);i.sort(function(e,i){return i[1]-e[1]}),i=i.splice(0,10),i=e(i),t=i.map(function(e){return e[0]}),n=i.map(function(e){return e[1]});var s=null,l=this,a={chart:{renderTo:this.$el,type:"bar",polar:!0,marginLeft:150},tooltip:{pointFormat:"{point.y:.2f}%"},xAxis:{categories:t,labels:{style:{fontSize:"14px"}}},yAxis:{min:0,max:20,lineWidth:0,minorGridLineWidth:0,gridLineWidth:0,lineColor:"transparent",title:{text:"Percentage"}},title:{text:null},plotOptions:{dataLabels:{enabled:!0},series:{groupPadding:.1,cursor:"pointer",point:{events:{click:function(e){l.model.set("positionFilter",this.category),l.model.createNewThumbnails(l.model.get("info").skills[this.category].slice(0,10)),s&&s.update({color:"#7cb5ec"},!0,!1),s=this,this.update({color:"#fe5800"})}}}}},series:[{showInLegend:!1,data:n}],credits:{enabled:!1}};this.$el.highcharts(a)}});var SkillsView=Backbone.View.extend({el:"#skillsDiv",model:PositionModel,className:"SkillsView",initialize:function(){this.render()},render:function(){this.$el.append("<h3>Skills</h3>"),this.$el.append('<div id="skillsChartDiv" class="chartLarge"></div>');new SkillsStatsChartView({el:"#skillsChartDiv",model:this.model})}});window.JourneyView=Backbone.View.extend({el:"#mainContent",model:PositionModel,className:"JourneyView",initialize:function(){var e=this;this.model.on("createThumbnails",function(){e.drawThumbnails(arguments)}),this.render()},render:function(){this.$el.children().detach(),new NavBarView,new AutocompleteView({model:app}),this.$el.append('<div class="container journeyView"><div class="row"><div class="col-md-8 innerJourney"></div></div></div>'),this.$el.find(".innerJourney").append('<div class="sectionTitles"><h2>Destination:</h2><h1>'+this.model.get("position_name")+"</h1></div>"),this.$el.find(".innerJourney").append('<div id="educationDiv"></div>');new EducationView({model:this.model});this.$el.find(".innerJourney").append('<div id="experienceDiv"></div>');new ExperienceView({model:this.model});this.$el.find(".innerJourney").append('<div id="skillsDiv"></div>');new SkillsView({model:this.model});this.$el.find(".row").append('<div class="col-md-4 rightCol"><div class="sectionTitles featuredHeader"><h2 class="hideCol">'+this.model.get("position_name")+'s with</h2><h1 class="">Featured '+this.model.get("position_name")+'s</h1></div><div class="profilesColumn"></div></div>');var e=[this.model.get("info").positions[this.model.get("position_name")]];this.drawThumbnails(e),this.$el.find(".featuredHeader").addClass("offsetSectionTitles"),this.$el.find(".featuredHeader h1").addClass("offsetHeader"),this.$el.find(".featuredHeader h2").addClass("hideCol")},drawThumbnails:function(e){var i=new ThumbnailsCollection(e[0]),t=new ThumbnailsCollectionView({collection:i});this.$el.find(".profilesColumn").append(t.el),this.$el.find(".featuredHeader h1").text(this.model.get("positionFilter")),console.log("this model",this.model),this.$el.find(".featuredHeader").removeClass("offsetSectionTitles"),this.$el.find(".featuredHeader h1").removeClass("offsetHeader"),this.$el.find(".featuredHeader h2").removeClass("hideCol")}});var TimeBlockView=Backbone.View.extend({model:TimelineItemModel,initialize:function(){this.render()},render:function(){var e=this.$el.append('<li class="time-block-item"></li>');e.append('<div class="time-block-type">'+this.model.get("type")+"</div>");var i=this.model.get("dates");e.append(i.start===i.end?'<div class="time-block-dates">'+this.model.get("dates").start+"</div>":'<div class="time-block-dates">'+i.start+" - "+i.end+"</div>"),e.append('<div class="time-block-text-1">'+this.model.get("text")[1]+"</div>"),e.append('<div class="time-block-text-2">'+this.model.get("text")[2]+"</div>")}}),TimelineView=Backbone.View.extend({el:"#timeline-div",initialize:function(){this.timelineItems=new TimelineItemsCollection;for(var e=(this.timelineItems,this.model.get("degrees")),i=[],t=0;t<e.length;++t)i.push(degreeToTimelineItemModel(e[t]));for(var n=this.model.get("experiences"),o=0;o<n.length;++o)i.push(experienceToTimelineItemModel(n[o]));i.sort(function(e,i){return i.dates.start-e.dates.start}),this.timelineItems.add(i),this.render()},render:function(){this.$el.children().detach(),this.$el.append("<h1>Timeline</h1>"),d3.select(el).append("svg").classed("timeline-svg",!0),this.$el.append('<ul class="timelineList"></ul>');var e=this.$(".timelineList");return this.timelineItems.forEach(function(i){new TimeBlockView({model:i,el:e})}),this.el}}),degreeToTimelineItemModel=function(e){var i={};return i.type="Education",i.dates={start:Number(e.start),end:Number(e.end)},i.text={1:e.degree+" in "+e.fos,2:e.school},i},experienceToTimelineItemModel=function(e){var i={};return i.type="Experience",i.dates={start:Number(e.start),end:Number(e.end)},i.text={1:e.position,2:e.company},i},ProfileCardView=Backbone.View.extend({el:"#profile-card",initialize:function(){this.render()},render:function(){return this.$el.append('<div class="avatar-container"><img src="'+this.model.get("pic")+'" alt="avatar" height="64" width="64"></div>'),this.$el.append('<div class="name-container">'+this.model.get("name")+"</div>"),this.$el.append('<div class="current-position">'+this.model.get("currentPosition")+" at "+this.model.get("currentCompany")+"</div>"),this.$el.append('<div class="location-container">'+this.model.get("location")+"</div>"),this.el}}),ProfileView=Backbone.View.extend({el:"#mainContent",model:ProfileModel,initialize:function(){console.log(this.model),this.render()},render:function(){this.$el.children().detach(),this.$el.append((new NavBarView).render()),this.$el.append('<div id="profile-card"></div>'),new ProfileCardView({model:this.model}),this.$el.append('<div id="timeline-div"></div>'),new TimelineView({model:this.model})}});window.ClientRouter=Backbone.Router.extend({routes:{"":"home",viewJourney:"viewJourney","profile/:id":"viewProfile"},home:function(){},viewJourney:function(e){$("#mainContent").empty();new JourneyView({model:e})},viewProfile:function(e){var i=new ProfileModel(e);this.listenTo(i,"RecievedData",function(){$("#mainContent").empty();new ProfileView({model:i})})}});var clientRouter=new ClientRouter;Backbone.history.start();
=======
<<<<<<< HEAD
var ProfileModel=Backbone.Model.extend({url:"api/getProfile/",initialize:function(e){console.log("init profile model, this is the model",this),console.log("init profile model, id param is ",e)},parse:function(e){}});window.PositionModel=Backbone.Model.extend({url:"/api/queryPositions/getStats",goToJourney:function(e){console.log("parameter being passed",e),this.fetch({data:$.param({name:e})})},parse:function(e){return this.set("info",e),this.set("degrees",e.degrees),this.set("fieldsOfStudy",e.fieldsOfStudy),this.set("degreesAndFields",e.degreesAndFields),this.set("info",e),clientRouter.viewJourney(this),console.log("response!!!",e),e}});var PositionsCollection=Backbone.Collection.extend({model:PositionModel,initialize:function(){}});window.DiscoverPathsModel=Backbone.Model.extend({url:"/api/queryPositions/getStats",defaults:{position_name:"",position_image:""},initialize:function(){},goToJourney:function(e){this.fetch({data:$.param({name:e})})},parse:function(e){return console.log("got to parse from discoverPathsModel"),this.set("info",e),clientRouter.viewJourney(this),e}}),window.AppModel=Backbone.Model.extend({url:"/api/queryPositions/getPositions",parse:function(e){return this.set("data",e),e},initialize:function(e){var i=new DiscoverPathsModel({position_name:"Corporate Lawyer",position_image:"../assets/lawyer.jpg"}),t=new DiscoverPathsModel({position_name:"Software Engineer",position_image:"../assets/software_engineer.jpg"}),n=new DiscoverPathsModel({position_name:"Nurse Practioner",position_image:"../assets/nurse.jpg"});this.set("discoverPathsCollection",new Backbone.Collection([i,t,n],{model:DiscoverPathsModel}));this.fetch().then(this.positionsReceived.bind(this))},positionsReceived:function(){this.set("positionsCollection",new PositionsCollection(this.get("data"))),console.log("position collection!!!!",this.get("positionsCollection")),this.trigger("positionsReceived")},tellPositionModel:function(e){console.log("this from app model",this)}});var NavBarView=Backbone.View.extend({initialize:function(){},render:function(){return this.$el.children().detach(),this.$el.append('<header class="navbar navbar-static-top" role="navigation"><div class="container"><div class="navbar-header"><a href="#/"><h1>Journey</h1></a></div></div></header>'),this.el}});window.DiscoverPathsView=Backbone.View.extend({tagName:"div",className:"col-md-4",template:_.template("<h3 class=onePath><%=position_name%></h3>"),initialize:function(){this.render()},events:{click:"journeyClickHandler"},journeyClickHandler:function(e){var i=$(e.target).text();console.log("this is the journeyClicked",i);var t=this.collection.where({position_name:i});t[0].goToJourney(i)},render:function(){var e=this;return this.collection.each(function(i){e.$el.append(e.template(i.attributes))})}}),window.PositionsCollectionView=Backbone.View.extend({tagName:"ul",className:"positionsList",initialize:function(){this.render()},render:function(){this.$el.children().detach(),this.$el.append(this.collection.map(function(e){return new PositionView({model:e}).render()}))}}),window.PositionView=Backbone.View.extend({tagName:"li",className:"positionView",template:_.template("<%= position_name %>"),intialize:function(){this.render()},events:{click:"journeyClickHandler"},render:function(){return this.$el.html(this.template(this.model.attributes))},journeyClickHandler:function(e){var i=this.model.get("position_name");this.model.goToJourney(i)}}),window.AutocompleteView=Backbone.View.extend({model:AppModel,el:"#autocomplete",tagName:"input",initialize:function(){console.log("this model",this.model);var e=[];this.listenTo(this.model,"positionsReceived",function(){for(var i in this.model.attributes)null!==this.model.attributes[i].position_name&&void 0!==this.model.attributes[i].position_name&&e.push(this.model.attributes[i].position_name);console.log("listening to positioned received in autocomplete view",e),this.$el.autocomplete({source:e})}),this.render()},events:{keyup:"journeyClickHandler"},journeyClickHandler:function(e){var i=13===e.which;if(i){e.preventDefault();var t=this.$el.val(),n=this.model.get("positionsCollection").where({position_name:t});n[0].goToJourney(t),this.$el.val("")}},render:function(){return $("#autocomplete").html(this.el)}}),window.AppView=Backbone.View.extend({initialize:function(e){this.discoverPathsView=new DiscoverPathsView({collection:this.model.get("discoverPathsCollection")}),this.autocompleteView=new AutocompleteView({model:this.model}),this.render()},render:function(){return this.$el.append(this.discoverPathsView.$el)}}),window.PositionsStatsChartView=Backbone.View.extend({initialize:function(){console.log(this.model),this.render()},render:function(){var e=[],i=[],t=[];for(var n in this.model)"Software Engineer"===n&&(this.model.total-=this.model[n].length);console.log("this model!!!",this.model);for(var o in this.model)if("total"!==o&&"Software Engineer"!=o){e.push([o,this.model[o].length/this.model.total*100])}e.sort(function(e,i){return e[1]<i[1]});for(var s=e.splice(0,10),l=0;l<s.length;++l)i.push(s[l][0]),t.push(s[l][1]);console.log("xAxis categories passed to table:",i),console.log("yAxis percentages passed to table:",t);var a=null,r={chart:{renderTo:this.$el,type:"bar",margin:100,options3d:{enabled:!1,alpha:15,beta:15,depth:50,viewDistance:25}},tooltip:{pointFormat:"Value: {point.y:.2f} %"},xAxis:{categories:i},yAxis:{min:0,title:{text:"percentage"}},title:{text:"Previous Roles:"},plotOptions:{dataLabels:{enabled:!0},series:{point:{events:{click:function(e){console.log(this),a&&a.update({color:"#7cb5ec"},!0,!1),a=this,this.update({color:"#fe5800"})}}}}},series:[{showInLegend:!1,data:t}],credits:{enabled:!1}};this.$el.highcharts(r)}});var ExperienceView=Backbone.View.extend({el:"#experienceDiv",model:PositionModel,className:"ExperienceView",initialize:function(){this.render()},render:function(){this.$el.append("<h3>Previous Experience</h3>"),this.$el.append('<div id="experienceStatsDiv"></div>');{var e=this;new PositionsStatsChartView({el:"#experienceStatsDiv",model:e.model.get("info").positions})}}});window.EducationChartView=Backbone.View.extend({initialize:function(){this.render()},render:function(){var e=[];for(var i in this.model)if("total"!==i){var t=i.replace("_"," in ");"_"===i?e.push(["unlisted",this.model[i].length]):("Other_"===i&&(t="Other"),e.push([t,this.model[i].length]))}e.sort(function(e,i){return e[1]<i[1]}),e=e.splice(0,10);var n={chart:{type:"pie",options3d:{enabled:!0,alpha:45}},title:{text:"Degrees Obtained:"},plotOptions:{pie:{innerSize:100,depth:45}},series:[{name:"percentage",data:e}]};this.$el.highcharts(n)}});var EducationView=Backbone.View.extend({el:"#educationDiv",model:PositionModel,className:"EducationView",initialize:function(){this.render()},render:function(){this.$el.append("<h3>Education</h3>"),this.$el.append('<div id="educationStatsDiv"></div>');new EducationChartView({el:"#educationStatsDiv",model:this.model.get("info").degreesAndFields})}});window.SkillsStatsChartView=Backbone.View.extend({initialize:function(){console.log("initializing skillsChartView"),this.render()},render:function(){console.log("this.model in skills view:",this.model);var e=[],i=[],t=[];for(var n in this.model)"total"!==n&&e.push([n,this.model[n].length]);e.sort(function(e,i){return e[1]<i[1]}),e=e.splice(0,9),i=e.map(function(e){return e[0]}),t=e.map(function(e){return e[1]}),console.log("skillsNames xAxis passed to chart:",i),console.log("skillsPercentages Axis passed to chart:",t);var o={chart:{renderTo:this.$el,type:"column",margin:150,options3d:{enabled:!1,alpha:15,beta:15,depth:50,viewDistance:25}},tooltip:{pointFormat:"Value: {point.y:.2f} %"},xAxis:{categories:i},yAxis:{min:0,max:75,title:{text:"percentage"}},title:{text:"Current Skills:"},plotOptions:{column:{depth:25}},series:[{showInLegend:!1,data:t}],credits:{enabled:!1}};this.$el.highcharts(o)}});var SkillsView=Backbone.View.extend({el:"#skillsDiv",model:PositionModel,className:"SkillsView",initialize:function(){this.render()},render:function(){this.$el.append("<h3>Skills</h3>"),this.$el.append('<div id="skillsChartDiv"></div>');new SkillsStatsChartView({el:"#skillsChartDiv",model:this.model.get("info").skills})}});window.JourneyView=Backbone.View.extend({el:"#mainContent",model:PositionModel,className:"JourneyView",initialize:function(){this.render()},render:function(){this.$el.children().detach(),this.$el.append((new NavBarView).render()),this.$el.append('<div class="container journeyView"><div class="row"><div class="col-md-12 innerJourney"></div></div></div>'),this.$el.find(".innerJourney").append('<div class="sectionTitles"><h2>Destination:</h2><h1>'+this.model.get("position_name")+"</h1></div>"),this.$el.find(".innerJourney").append('<div id="experienceDiv"></div>');new ExperienceView({model:this.model});this.$el.find(".innerJourney").append('<div id="educationDiv"></div>');new EducationView({model:this.model});this.$el.find(".innerJourney").append('<div id="skillsDiv"></div>');new SkillsView({model:this.model})}});var ProfileCardView=Backbone.View.extend({initialize:function(){},render:function(){return this.$el.append("<div> Place picture</div>"),this.$el.append("<div> Place name</div>"),this.$el.append("<div> Place current position</div>"),this.$el.append("<div> Place location</div>"),this.el}}),ProfileView=Backbone.View.extend({el:"#mainContent",initialize:function(){this.render()},render:function(){this.$el.children().detach(),this.$el.append((new NavBarView).render()),this.$el.append((new ProfileCardView).render())}});window.ClientRouter=Backbone.Router.extend({routes:{"":"home",viewJourney:"viewJourney","profile/:id":"viewProfile"},home:function(){console.log("in home view - called from router")},viewJourney:function(e){$("#mainContent").empty();new JourneyView({model:e})},viewProfile:function(e){console.log("hello woo!");var i=new ProfileModel(e);$("#mainContent").empty();new ProfileView({model:i})}});var clientRouter=new ClientRouter;Backbone.history.start();
=======
var ProfileModel=Backbone.Model.extend({url:"api/getProfile/",initialize:function(e){console.log("init profile model, this is the model",this),console.log("init profile model, id param is ",e)},parse:function(e){}});window.PositionModel=Backbone.Model.extend({url:"/api/queryPositions/getStats",goToJourney:function(e){console.log("parameter being passed",e),this.fetch({data:$.param({name:e})})},parse:function(e){return this.set("info",e),this.set("degrees",e.degrees),this.set("fieldsOfStudy",e.fieldsOfStudy),this.set("degreesAndFields",e.degreesAndFields),clientRouter.viewJourney(this),e}});var PositionsCollection=Backbone.Collection.extend({model:PositionModel,initialize:function(){}});window.DiscoverPathsModel=Backbone.Model.extend({url:"/api/queryPositions/getStats",defaults:{position_name:"",position_image:""},initialize:function(){},goToJourney:function(e){this.fetch({data:$.param({name:e})})},parse:function(e){return this.set("info",e),clientRouter.viewJourney(this),e}}),window.AppModel=Backbone.Model.extend({url:"/api/queryPositions/getPositions",parse:function(e){return this.set("data",e),e},initialize:function(e){var i=new DiscoverPathsModel({position_name:"Corporate Lawyer",position_image:"../assets/lawyer.jpg"}),t=new DiscoverPathsModel({position_name:"Software Engineer",position_image:"../assets/software_engineer.jpg"}),n=new DiscoverPathsModel({position_name:"Nurse Practioner",position_image:"../assets/nurse.jpg"});this.set("discoverPathsCollection",new Backbone.Collection([i,t,n],{model:DiscoverPathsModel}));this.fetch().then(this.positionsReceived.bind(this))},positionsReceived:function(){this.set("positionsCollection",new PositionsCollection(this.get("data"))),this.trigger("positionsReceived")},tellPositionModel:function(e){console.log("this from app model",this)}});var NavBarView=Backbone.View.extend({initialize:function(){},render:function(){return this.$el.children().detach(),this.$el.append('<header class="navbar navbar-static-top" role="navigation"><div class="container"><div class="navbar-header"><a href="#/"><h1>Journey</h1></a></div></div></header>'),this.el}});window.DiscoverPathsView=Backbone.View.extend({tagName:"div",className:"col-md-4",template:_.template("<h3 class=onePath><%=position_name%></h3>"),initialize:function(){this.render()},events:{click:"journeyClickHandler"},journeyClickHandler:function(e){var i=$(e.target).text(),t=this.collection.where({position_name:i});t[0].goToJourney(i)},render:function(){var e=this;return this.collection.each(function(i){e.$el.append(e.template(i.attributes))})}}),window.PositionsCollectionView=Backbone.View.extend({tagName:"ul",className:"positionsList",initialize:function(){this.render()},render:function(){this.$el.children().detach(),this.$el.append(this.collection.map(function(e){return new PositionView({model:e}).render()}))}}),window.PositionView=Backbone.View.extend({tagName:"li",className:"positionView",template:_.template("<%= position_name %>"),intialize:function(){this.render()},events:{click:"journeyClickHandler"},render:function(){return this.$el.html(this.template(this.model.attributes))},journeyClickHandler:function(e){var i=this.model.get("position_name");this.model.goToJourney(i)}}),window.AutocompleteView=Backbone.View.extend({model:AppModel,el:"#autocomplete",tagName:"input",initialize:function(){var e=[];this.listenTo(this.model,"positionsReceived",function(){for(var i in this.model.attributes)null!==this.model.attributes[i].position_name&&void 0!==this.model.attributes[i].position_name&&e.push(this.model.attributes[i].position_name);this.$el.autocomplete({source:e})}),this.render()},events:{keyup:"journeyClickHandler"},journeyClickHandler:function(e){var i=13===e.which;if(i){var t=this.$el.val(),n=this.model.get("positionsCollection").where({position_name:t});n[0].goToJourney(t),this.$el.val("")}},render:function(){return $("#autocomplete").html(this.el)}}),window.AppView=Backbone.View.extend({initialize:function(e){this.discoverPathsView=new DiscoverPathsView({collection:this.model.get("discoverPathsCollection")}),this.autocompleteView=new AutocompleteView({model:this.model}),this.render()},render:function(){return this.$el.append(this.discoverPathsView.$el)}}),window.PositionsStatsChartView=Backbone.View.extend({initialize:function(){this.render()},render:function(){var e=[],i=[],t=[];for(var n in this.model)"Software Engineer"===n&&(this.model.total-=this.model[n].length);for(var o in this.model)if("total"!==o&&"Software Engineer"!=o){e.push([o,this.model[o].length/this.model.total*100])}console.log("data before sort:",e),e.sort(function(e,i){return i[1]-e[1]}),console.log("data after sort:",e);for(var s=e.splice(0,10),l=0;l<s.length;++l)i.push(s[l][0]),t.push(s[l][1]);var a=null,r={chart:{renderTo:this.$el,type:"bar",marginLeft:150,style:{fontFamily:"Helvetica, sans-serif"},options3d:{enabled:!1,alpha:15,beta:15,depth:50,viewDistance:25}},tooltip:{pointFormat:"{point.y:.2f}%"},xAxis:{categories:i,labels:{style:{fontSize:"14px"}}},yAxis:{min:0,lineWidth:0,minorGridLineWidth:0,gridLineWidth:0,lineColor:"transparent",title:{text:"Percentage"}},title:{text:null},plotOptions:{dataLabels:{enabled:!0},series:{groupPadding:.1,cursor:"pointer",point:{events:{click:function(e){console.log(this),a&&a.update({color:"#7cb5ec"},!0,!1),a=this,this.update({color:"#fe5800"})}}}}},series:[{showInLegend:!1,data:t}],credits:{enabled:!1}};this.$el.highcharts(r)}});var ExperienceView=Backbone.View.extend({el:"#experienceDiv",model:PositionModel,className:"ExperienceView",initialize:function(){this.render()},render:function(){this.$el.append("<h3>Experience</h3>"),this.$el.append('<div id="experienceStatsDiv"></div>');{var e=this;new PositionsStatsChartView({el:"#experienceStatsDiv",model:e.model.get("info").positions})}}});window.EducationChartView=Backbone.View.extend({initialize:function(){console.log(this.model),this.render()},render:function(){var e=[];for(var i in this.model)if("total"!==i){var t=i.replace("_"," in ");"_"===i?e.push(["unlisted",this.model[i].length]):("Other_"===i&&(t="Other"),e.push([t,this.model[i].length]))}e.sort(function(e,i){return e[1]<i[1]}),e=e.splice(0,10);var n={chart:{type:"pie",options3d:{enabled:!1,alpha:45},style:{fontFamily:"Helvetica, sans-serif"},plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1},tooltip:{pointFormat:"{point.percentage:.2f}%"},title:{text:null},plotOptions:{pie:{innerSize:0,depth:45,allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"{point.name}: {point.percentage:.1f}%",color:"#606060",style:{lineHeight:"18px",fontSize:"14px",fontWeight:"normal"}}}},series:[{name:"Percentage",data:e}],credits:{enabled:!1}};this.$el.highcharts(n)}});var EducationView=Backbone.View.extend({el:"#educationDiv",model:PositionModel,className:"EducationView",initialize:function(){this.render()},render:function(){this.$el.append("<h3>Education</h3>"),this.$el.append('<div id="educationStatsDiv"></div>');new EducationChartView({el:"#educationStatsDiv",model:this.model.get("info").degreesAndFields})}});window.SkillsStatsChartView=Backbone.View.extend({initialize:function(){this.render()},render:function(){var e=[],i=[],t=[];for(var n in this.model)"total"!==n&&e.push([n,this.model[n].length]);e.sort(function(e,i){return i[1]-e[1]}),e=e.splice(0,9),i=e.map(function(e){return e[0]}),t=e.map(function(e){return e[1]});var o=null,s={chart:{renderTo:this.$el,type:"bar",marginLeft:150,options3d:{enabled:!1,alpha:15,beta:15,depth:50,viewDistance:25}},tooltip:{pointFormat:"{point.y:.2f}%"},xAxis:{categories:i,labels:{style:{fontSize:"14px"}}},yAxis:{min:0,max:75,lineWidth:0,minorGridLineWidth:0,gridLineWidth:0,lineColor:"transparent",title:{text:"Percentage"}},title:{text:null},plotOptions:{dataLabels:{enabled:!0},series:{groupPadding:.1,cursor:"pointer",point:{events:{click:function(e){console.log(this),o&&o.update({color:"#7cb5ec"},!0,!1),o=this,this.update({color:"#fe5800"})}}}}},series:[{showInLegend:!1,data:t}],credits:{enabled:!1}};this.$el.highcharts(s)}});var SkillsView=Backbone.View.extend({el:"#skillsDiv",model:PositionModel,className:"SkillsView",initialize:function(){this.render()},render:function(){this.$el.append("<h3>Skills</h3>"),this.$el.append('<div id="skillsChartDiv"></div>');new SkillsStatsChartView({el:"#skillsChartDiv",model:this.model.get("info").skills})}});window.JourneyView=Backbone.View.extend({el:"#mainContent",model:PositionModel,className:"JourneyView",initialize:function(){this.render()},render:function(){this.$el.children().detach(),this.$el.append((new NavBarView).render()),this.$el.append('<div class="container journeyView"><div class="row"><div class="col-md-8 innerJourney"></div></div></div>'),this.$el.find(".innerJourney").append('<div class="sectionTitles"><h2>Destination:</h2><h1>'+this.model.get("position_name")+"</h1></div>"),this.$el.find(".innerJourney").append('<div id="educationDiv"></div>');new EducationView({model:this.model});this.$el.find(".innerJourney").append('<div id="experienceDiv"></div>');new ExperienceView({model:this.model});this.$el.find(".innerJourney").append('<div id="skillsDiv"></div>');new SkillsView({model:this.model});this.$el.find(".row").append('<div class="col-md-4"><div class="sectionTitles"><h2>Software Engineers with</h2><h1>MA Computer Science degrees</h1></div></div>')}});var ProfileCardView=Backbone.View.extend({initialize:function(){},render:function(){return this.$el.append("<div> Place picture</div>"),this.$el.append("<div> Place name</div>"),this.$el.append("<div> Place current position</div>"),this.$el.append("<div> Place location</div>"),this.el}}),ProfileView=Backbone.View.extend({el:"#mainContent",initialize:function(){this.render()},render:function(){this.$el.children().detach(),this.$el.append((new NavBarView).render()),this.$el.append((new ProfileCardView).render())}});window.ClientRouter=Backbone.Router.extend({routes:{"":"home",viewJourney:"viewJourney","profile/:id":"viewProfile"},home:function(){},viewJourney:function(e){$("#mainContent").empty();new JourneyView({model:e})},viewProfile:function(e){var i=new ProfileModel(e);$("#mainContent").empty();new ProfileView({model:i})}});var clientRouter=new ClientRouter;Backbone.history.start();
>>>>>>> Completes styling for journeyView
>>>>>>> Completes styling for journeyView
=======
var ProfileModel=Backbone.Model.extend({url:"api/getProfile/",initialize:function(e){console.log("init profile model, this is the model",this),console.log("init profile model, id param is ",e)},parse:function(e){}});window.PositionModel=Backbone.Model.extend({url:"/api/queryPositions/getStats",goToJourney:function(e){console.log("parameter being passed",e),this.fetch({data:$.param({name:e})})},parse:function(e){return this.set("info",e),this.set("degrees",e.degrees),this.set("fieldsOfStudy",e.fieldsOfStudy),this.set("degreesAndFields",e.degreesAndFields),this.set("info",e),clientRouter.viewJourney(this),console.log("response!!!",e),e}});var PositionsCollection=Backbone.Collection.extend({model:PositionModel,initialize:function(){}});window.DiscoverPathsModel=Backbone.Model.extend({url:"/api/queryPositions/getStats",defaults:{position_name:"",position_image:""},initialize:function(){},goToJourney:function(e){this.fetch({data:$.param({name:e})})},parse:function(e){return this.set("info",e),clientRouter.viewJourney(this),e}}),window.AppModel=Backbone.Model.extend({url:"/api/queryPositions/getPositions",parse:function(e){return this.set("data",e),e},initialize:function(e){var i=new DiscoverPathsModel({position_name:"Corporate Lawyer",position_image:"../assets/lawyer.jpg"}),t=new DiscoverPathsModel({position_name:"Software Engineer",position_image:"../assets/software_engineer.jpg"}),n=new DiscoverPathsModel({position_name:"Nurse Practioner",position_image:"../assets/nurse.jpg"});this.set("discoverPathsCollection",new Backbone.Collection([i,t,n],{model:DiscoverPathsModel}));this.fetch().then(this.positionsReceived.bind(this))},positionsReceived:function(){this.set("positionsCollection",new PositionsCollection(this.get("data"))),console.log("position collection!!!!",this.get("positionsCollection")),this.trigger("positionsReceived")},tellPositionModel:function(e){console.log("this from app model",this)}});var NavBarView=Backbone.View.extend({initialize:function(){},render:function(){return this.$el.children().detach(),this.$el.append('<header class="navbar navbar-static-top" role="navigation"><div class="container"><div class="navbar-header"><a href="#/"><h1>Journey</h1></a></div></div></header>'),this.el}});window.DiscoverPathsView=Backbone.View.extend({tagName:"div",className:"col-md-4",template:_.template("<h3 class=onePath><%=position_name%></h3>"),initialize:function(){this.render()},events:{click:"journeyClickHandler"},journeyClickHandler:function(e){var i=$(e.target).text(),t=this.collection.where({position_name:i});t[0].goToJourney(i)},render:function(){var e=this;return this.collection.each(function(i){e.$el.append(e.template(i.attributes))})}}),window.PositionsCollectionView=Backbone.View.extend({tagName:"ul",className:"positionsList",initialize:function(){this.render()},render:function(){this.$el.children().detach(),this.$el.append(this.collection.map(function(e){return new PositionView({model:e}).render()}))}}),window.PositionView=Backbone.View.extend({tagName:"li",className:"positionView",template:_.template("<%= position_name %>"),intialize:function(){this.render()},events:{click:"journeyClickHandler"},render:function(){return this.$el.html(this.template(this.model.attributes))},journeyClickHandler:function(e){var i=this.model.get("position_name");this.model.goToJourney(i)}}),window.AutocompleteView=Backbone.View.extend({model:AppModel,el:"#autocomplete",tagName:"input",initialize:function(){console.log("this model",this.model);var e=[];this.listenTo(this.model,"positionsReceived",function(){for(var i in this.model.attributes)null!==this.model.attributes[i].position_name&&void 0!==this.model.attributes[i].position_name&&e.push(this.model.attributes[i].position_name);console.log("listening to positioned received in autocomplete view",e),this.$el.autocomplete({source:e})}),this.render()},events:{keyup:"journeyClickHandler"},journeyClickHandler:function(e){var i=13===e.which;if(i){e.preventDefault();var t=this.$el.val(),n=this.model.get("positionsCollection").where({position_name:t});n[0].goToJourney(t),this.$el.val("")}},render:function(){return $("#autocomplete").html(this.el)}}),window.AppView=Backbone.View.extend({initialize:function(e){this.discoverPathsView=new DiscoverPathsView({collection:this.model.get("discoverPathsCollection")}),this.autocompleteView=new AutocompleteView({model:this.model}),this.render()},render:function(){return this.$el.append(this.discoverPathsView.$el)}}),window.PositionsStatsChartView=Backbone.View.extend({initialize:function(){this.render()},render:function(){var e=[],i=[],t=[];for(var n in this.model)"Software Engineer"===n&&(this.model.total-=this.model[n].length);for(var o in this.model)if("total"!==o&&"Software Engineer"!=o){e.push([o,this.model[o].length/this.model.total*100])}console.log("data before sort:",e),e.sort(function(e,i){return i[1]-e[1]}),console.log("data after sort:",e);for(var s=e.splice(0,10),l=0;l<s.length;++l)i.push(s[l][0]),t.push(s[l][1]);var a=null,r={chart:{renderTo:this.$el,type:"bar",marginLeft:150,style:{fontFamily:"Helvetica, sans-serif"},options3d:{enabled:!1,alpha:15,beta:15,depth:50,viewDistance:25}},tooltip:{pointFormat:"{point.y:.2f}%"},xAxis:{categories:i,labels:{style:{fontSize:"14px"}}},yAxis:{min:0,lineWidth:0,minorGridLineWidth:0,gridLineWidth:0,lineColor:"transparent",title:{text:"Percentage"}},title:{text:null},plotOptions:{dataLabels:{enabled:!0},series:{groupPadding:.1,cursor:"pointer",point:{events:{click:function(e){console.log(this),a&&a.update({color:"#7cb5ec"},!0,!1),a=this,this.update({color:"#fe5800"})}}}}},series:[{showInLegend:!1,data:t}],credits:{enabled:!1}};this.$el.highcharts(r)}});var ExperienceView=Backbone.View.extend({el:"#experienceDiv",model:PositionModel,className:"ExperienceView",initialize:function(){this.render()},render:function(){this.$el.append("<h3>Experience</h3>"),this.$el.append('<div id="experienceStatsDiv"></div>');{var e=this;new PositionsStatsChartView({el:"#experienceStatsDiv",model:e.model.get("info").positions})}}});window.EducationChartView=Backbone.View.extend({initialize:function(){this.render()},render:function(){var e=[];for(var i in this.model)if("total"!==i){var t=i.replace("_"," in ");"_"===i?e.push(["unlisted",this.model[i].length]):("Other_"===i&&(t="Other"),e.push([t,this.model[i].length]))}e.sort(function(e,i){return e[1]<i[1]}),e=e.splice(0,10);var n={chart:{type:"pie",options3d:{enabled:!1,alpha:45},style:{fontFamily:"Helvetica, sans-serif"},plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1},tooltip:{pointFormat:"{point.percentage:.2f}%"},title:{text:null},plotOptions:{pie:{innerSize:0,depth:45,allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"{point.name}: {point.percentage:.1f}%",color:"#606060",style:{lineHeight:"18px",fontSize:"14px",fontWeight:"normal"}}}},series:[{name:"Percentage",data:e}],credits:{enabled:!1}};this.$el.highcharts(n)}});var EducationView=Backbone.View.extend({el:"#educationDiv",model:PositionModel,className:"EducationView",initialize:function(){this.render()},render:function(){this.$el.append("<h3>Education</h3>"),this.$el.append('<div id="educationStatsDiv"></div>');new EducationChartView({el:"#educationStatsDiv",model:this.model.get("info").degreesAndFields})}});window.SkillsStatsChartView=Backbone.View.extend({initialize:function(){this.render()},render:function(){var e=[],i=[],t=[];for(var n in this.model)"total"!==n&&e.push([n,this.model[n].length]);e.sort(function(e,i){return i[1]-e[1]}),e=e.splice(0,9),i=e.map(function(e){return e[0]}),t=e.map(function(e){return e[1]});var o=null,s={chart:{renderTo:this.$el,type:"bar",marginLeft:150,options3d:{enabled:!1,alpha:15,beta:15,depth:50,viewDistance:25}},tooltip:{pointFormat:"{point.y:.2f}%"},xAxis:{categories:i,labels:{style:{fontSize:"14px"}}},yAxis:{min:0,max:75,lineWidth:0,minorGridLineWidth:0,gridLineWidth:0,lineColor:"transparent",title:{text:"Percentage"}},title:{text:null},plotOptions:{dataLabels:{enabled:!0},series:{groupPadding:.1,cursor:"pointer",point:{events:{click:function(e){console.log(this),o&&o.update({color:"#7cb5ec"},!0,!1),o=this,this.update({color:"#fe5800"})}}}}},series:[{showInLegend:!1,data:t}],credits:{enabled:!1}};this.$el.highcharts(s)}});var SkillsView=Backbone.View.extend({el:"#skillsDiv",model:PositionModel,className:"SkillsView",initialize:function(){this.render()},render:function(){this.$el.append("<h3>Skills</h3>"),this.$el.append('<div id="skillsChartDiv"></div>');new SkillsStatsChartView({el:"#skillsChartDiv",model:this.model.get("info").skills})}});window.JourneyView=Backbone.View.extend({el:"#mainContent",model:PositionModel,className:"JourneyView",initialize:function(){this.render()},render:function(){this.$el.children().detach(),this.$el.append((new NavBarView).render()),this.$el.append('<div class="container journeyView"><div class="row"><div class="col-md-12 innerJourney"></div></div></div>'),this.$el.find(".innerJourney").append('<div class="sectionTitles"><h2>Destination:</h2><h1>'+this.model.get("position_name")+"</h1></div>"),this.$el.find(".innerJourney").append('<div id="educationDiv"></div>');new EducationView({model:this.model});this.$el.find(".innerJourney").append('<div id="experienceDiv"></div>');new ExperienceView({model:this.model});this.$el.find(".innerJourney").append('<div id="skillsDiv"></div>');new SkillsView({model:this.model})}});var ProfileCardView=Backbone.View.extend({initialize:function(){},render:function(){return this.$el.append("<div> Place picture</div>"),this.$el.append("<div> Place name</div>"),this.$el.append("<div> Place current position</div>"),this.$el.append("<div> Place location</div>"),this.el}}),ProfileView=Backbone.View.extend({el:"#mainContent",initialize:function(){this.render()},render:function(){this.$el.children().detach(),this.$el.append((new NavBarView).render()),this.$el.append((new ProfileCardView).render())}});window.ClientRouter=Backbone.Router.extend({routes:{"":"home",viewJourney:"viewJourney","profile/:id":"viewProfile"},home:function(){},viewJourney:function(e){$("#mainContent").empty();new JourneyView({model:e})},viewProfile:function(e){var i=new ProfileModel(e);$("#mainContent").empty();new ProfileView({model:i})}});var clientRouter=new ClientRouter;Backbone.history.start();
>>>>>>> Rebases branch and cleans up journeyView
